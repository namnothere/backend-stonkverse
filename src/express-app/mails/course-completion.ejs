<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Course Completion Certificate</title>
    <style>
      body {
        font-family: "Poppins", sans-serif;
        background-color: #f4f4f4;
        margin: 0;
        padding: 0;
      }
      .container {
        max-width: 600px;
        height: 100vh;
        margin: 0 auto;
        padding: 20px;
        background-color: #4f5ef1;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        color: #ffffff;
      }
      .message {
        text-align: center;
        font-size: 18px;
        margin-bottom: 20px;
        padding-top: 50px;
      }
      .message-sm {
        text-align: center;
        font-size: 18px;
        margin-bottom: 20px;
        padding-top: 50px;
      }
      .message-sm > h1 {
        text-align: center;
        font-size: 25px;
        font-weight: 600;
      }
      .course-info {
        margin: auto;
        padding: 20px 0;
        width: 100%;
        background-color: #fff;
        border-radius: 10px;
        margin-bottom: 20px;
        box-shadow: 2px 2px 2px 2px rgba(206, 197, 197, 0.1);
        color: #000;
      }
      .course-info > h4 {
        color: #23bd70;
        font-size: 22px;
        font-family: "Poppins", sans-serif;
        font-weight: 500;
        text-align: center;
        padding: 0 !important;
        margin-top: 0 !important;
      }
      .course-name {
        font-size: 24px;
        margin-bottom: 10px;
      }
      .certificate-container {
        background-color: #f9f9f9;
        border: 1px solid #ddd;
        border-radius: 8px;
        padding: 15px;
        width: 85%;
        margin: 0 auto 20px auto;
      }
      .certificate-header {
        text-align: center;
        border-bottom: 2px solid #23bd70;
        padding-bottom: 10px;
        margin-bottom: 15px;
      }
      .certificate-title {
        color: #4f5ef1;
        font-size: 20px;
        font-weight: 600;
        margin: 0;
      }
      .certificate-subtitle {
        color: #666;
        font-size: 14px;
        margin: 5px 0 0 0;
      }
      .footer {
        text-align: center;
        margin-top: 100px;
        color: #fff;
      }
      .footer > p > a {
        text-decoration: none;
        display: inline-block;
        color: #fff;
      }
      .flex {
        display: flex;
        align-items: center;
        justify-content: space-between;
        border-bottom: 1px solid #9999993f;
      }
      .flex h4 {
        font-weight: 400;
        margin-bottom: 5px;
      }
      .flex.lg {
        width: 85%;
        margin: auto;
        border-bottom: none;
      }
      .first-td {
        text-transform: uppercase;
        color: #0000006c;
        font-size: 16px;
        padding: 5px 0px;
        width: 1%;
      }
      .first-td {
        font-weight: 600 !important;
      }
      .second-td {
        font-weight: 500;
        color: #000000af;
        font-size: 15px;
      }
      .title {
        font-size: 16px !important;
      }
      table {
        width: 100%;
        border-collapse: collapse;
      }
      td {
        padding: 10px;
        text-align: center;
        width: 28.33%;
      }
      td.col-2 {
        width: 100%;
        text-align: left;
        padding: 0;
        margin: 0;
      }
      .m-auto {
        width: 100%;
        margin: auto;
      }
      .table-row {
        width: 70%;
        display: block;
        margin: auto;
        padding: 10px 0;
      }
      .highlight {
        color: #23bd70;
        font-weight: 600;
      }
      .badge {
        background-color: #23bd70;
        color: white;
        padding: 5px 10px;
        border-radius: 5px;
        font-size: 14px;
        display: inline-block;
      }
      .progress-container {
        margin: 10px 0;
      }
      .progress-bar {
        background-color: #e0e0e0;
        border-radius: 10px;
        height: 10px;
        width: 100%;
      }
      .progress-fill {
        background-color: #4f5ef1;
        border-radius: 10px;
        height: 10px;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="message-sm">
        <h1>Congratulations on Completing the Course!</h1>
        <p>You've successfully completed and passed "<%= course.name %>"</p>
      </div>
      <br />
      <div class="course-info">
        <h4>Certificate of Completion</h4>
        <div class="certificate-container">
          <div class="certificate-header">
            <h3 class="certificate-title">COURSE COMPLETION CERTIFICATE</h3>
            <p class="certificate-subtitle">This is to certify that</p>
          </div>
          <table>
            <tr>
              <td class="col-2" style="text-align: center; padding: 10px;">
                <span style="font-size: 18px; font-weight: 600; color: #333;"><%= user.name %></span>
              </td>
            </tr>
            <tr>
              <td class="col-2" style="text-align: center; padding: 5px;">
                <span style="font-size: 14px; color: #666;">has successfully completed</span>
              </td>
            </tr>
            <tr>
              <td class="col-2" style="text-align: center; padding: 10px;">
                <span style="font-size: 18px; font-weight: 600; color: #4f5ef1;"><%= course.name %></span>
              </td>
            </tr>
            <tr>
              <td class="col-2" style="text-align: center; padding: 5px;">
                <span style="font-size: 14px; color: #666;">on <%= course.completionDate %></span>
              </td>
            </tr>
            <tr>
              <td class="col-2" style="text-align: center; padding: 15px 10px;">
                <span class="badge">PASSED</span>
              </td>
            </tr>
          </table>
        </div>
        
        <table style="width: 90%; margin: auto; display: block">
          <tr>
            <td class="first-td">Course ID</td>
            <td class="first-td">Final Score</td>
            <td class="first-td">Passing Grade</td>
          </tr>
        </table>
        <table style="width: 90%; margin: auto; display: block">
          <tr>
            <td class="second-td"><%= course._id %></td>
            <td class="second-td" class="highlight"><%= course.score %>%</td>
            <td class="second-td"><%= course.passingGrade %>%</td>
          </tr>
        </table>
        
        <div style="width: 85%; margin: 20px auto; padding: 15px; background-color: #f5f8ff; border-radius: 8px;">
          <h4 style="margin-top: 0; color: #4f5ef1; text-align: center;">Score Breakdown</h4>
          
          <div style="margin: 15px 0;">
            <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
              <span>Quiz Score:</span>
              <span><%= course.quizScore %>%</span>
            </div>
            <!-- <div class="progress-bar">
              <div class="progress-fill" style="width: <%= course.quizScore %>%;"></div>
            </div> -->
          </div>
          
          <div style="margin: 15px 0;">
            <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
              <span>Final Test Score:</span>
              <span><%= course.finalTestScore %>%</span>
            </div>
            <!-- <div class="progress-bar">
              <div class="progress-fill" style="width: <%= course.finalTestScore %>%;"></div>
            </div> -->
          </div>
          
          <p style="margin: 15px 0 5px 0; font-size: 14px; color: #666; text-align: center;">
            Final score is calculated based on quiz (20%) and final test (80%).
          </p>
        </div>
      </div>
      
      <div class="footer">
        <p>
          Congratulations on your achievement! Continue your learning journey with more courses.
        </p>
        <p>
          If you have any questions, please contact our support team at
          <a href="mailto:tnbh234@gmail.com">tnbh234@gmail.com</a>
        </p>
      </div>
    </div>
  </body>
</html>